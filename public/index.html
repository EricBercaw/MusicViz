<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover"
  />
  <title>Spotify Preview Visualizer</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="app-header">
    <h1>Spotify Visualizer</h1>
    <form id="search-form" autocomplete="off">
      <input id="q" name="q" type="search" placeholder="Search songs or artists…" />
      <button type="submit" title="Search">Search</button>
    </form>
  </header>

  <main class="app-main">
    <section class="results" id="results"></section>

    <section class="player">
      <div class="now-playing" id="nowPlaying">Pick a track above</div>
      <div class="controls">
        <button id="play">Play</button>
        <button id="pause">Pause</button>
        <input id="volume" type="range" min="0" max="1" step="0.01" value="0.8" />
      </div>
      <canvas id="viz" width="1024" height="320"></canvas>
      <audio id="audio" crossorigin="anonymous"></audio>
    </section>
  </main>

  <footer class="app-footer">
    <small>
      Uses Spotify’s 30s <code>preview_url</code> (no login required). For full tracks, switch to the Web
      Playback SDK and a Premium account—but note DRM prevents raw audio routing for the Web Audio API.
    </small>
  </footer>

  <script src="index.js" type="module"></script>
</body>
</html>
